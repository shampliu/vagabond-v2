<!doctype html>
<html ng-app="vagabond">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Vagabond</title>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.12.3/semantic.min.css">
    <link rel="stylesheet" type="text/css" href="css/fonts/font-awesome-4.2.0/css/font-awesome.min.css" />

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.12.3/semantic.min.js"></script>
    <script src="js/controllers.js"></script>
    <script src="js/main.js"></script>

</head>
<body ng-controller="mainController">
	<div class="ui grid">
		<div class="center aligned one column row">
			<div class="column">
				<div class="ui segment">
					<div ng-include="" src="'partials/navbar.html'"></div>
					<h1>Number of Places: <span class="">{{ places.length }}</span></h1>

					<!-- <div id="place-list" class="row">
					    <div class="col-sm-4 col-sm-offset-4">

					        <div class="checkbox" ng-repeat="place in places">
					            <label>
					                <input type="checkbox" ng-click="deletePlace(place._id)"> {{ place.text }}
					            </label>
					        </div>

					    </div>
					</div> -->

					<br>

					<div class="ui action left icon input">
					  <i class="search icon"></i>
					  <input type="text" placeholder="Filter..." ng-model="query">
					</div>

					<div class="ui action input">
					  <input type="text" placeholder="Add a place..." ng-model="formData.text">
					  <div class="ui green button" ng-click="createPlace()">Add</div>
					</div>

					<br>
					<br>

					<div class="ui primary button">
					  <i style="color: white;" class="fa fa-facebook"></i><a style="color: white" href="#" onclick="checkLoginState();">Facebook Login</a>
					</div>

					<br>
					<br>

					<h1>Feed</h1>
					<ul class="feed">
						<li ng-repeat="place in places | filter: query">
							<label>
				                <input type="checkbox" ng-click="deletePlace(place._id)"> {{ place.text }}
				            </label>
							
						</li>
					</ul>


					
				</div>
			</div>
		</div>
	</div>

	<script>
		 window.fbAsyncInit = function() {
			 FB.init({
			   appId      : '886471691414676',
			   cookie     : true,  // enable cookies to allow the server to access 
			                       // the session
			   xfbml      : true,  // parse social plugins on this page
			   version    : 'v2.2' // use version 2.2
			 });

			 FB.getLoginStatus(function(response) {
			   statusChangeCallback(response);
			 });
		 };
		function statusChangeCallback(response) {
		   console.log('statusChangeCallback');
		   console.log(response);

		   if (response.status === 'connected') {
		     // Logged into your app and Facebook.
		     testAPI();
		   } else if (response.status === 'not_authorized') {
		     // The person is logged into Facebook, but not your app.
		     document.getElementById('status').innerHTML = 'Please log ' +
		       'into this app.';
		   } else {
		     // The person is not logged into Facebook, so we're not sure if
		     // they are logged into this app or not.
		     document.getElementById('status').innerHTML = 'Please log ' +
		       'into Facebook.';
		   }
		 }

		 function checkLoginState() {
		   FB.getLoginStatus(function(response) {
		     statusChangeCallback(response);
		   });
		 }

		 // Load the SDK asynchronously
		 (function(d, s, id) {
		   var js, fjs = d.getElementsByTagName(s)[0];
		   if (d.getElementById(id)) return;
		   js = d.createElement(s); js.id = id;
		   js.src = "//connect.facebook.net/en_US/sdk.js";
		   fjs.parentNode.insertBefore(js, fjs);
		 }(document, 'script', 'facebook-jssdk'));

		 function testAPI() {
		   console.log('Welcome!  Fetching your information.... ');
		   FB.api('/me', function(response) {
		     console.log('Successful login for: ' + response.name);
		     document.getElementById('status').innerHTML =
		       'Thanks for logging in, ' + response.name + '!';
		   });
		 }

		
	</script>



	

	
	


    

</body>
</html>